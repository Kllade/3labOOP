# Лабораторная работа 3: Наследование и полиморфизм

## Описание
Программа для работы с геометрическими фигурами: **Трапеция**, **Ромб** и **5-угольник**. Реализована с использованием принципов объектно-ориентированного программирования: наследования и полиморфизма.

## Вариант 28
- **Трапеция** - четырехугольник с двумя параллельными сторонами
- **Ромб** - четырехугольник с равными сторонами
- **5-угольник** - правильный пятиугольник

## Структура проекта
```
3lab/
├── include/           # Заголовочные файлы
│   ├── Figure.h       # Базовый класс
│   ├── Trapezoid.h    # Трапеция
│   ├── Rhombus.h      # Ромб
│   ├── Pentagon.h     # 5-угольник
│   └── FigureArray.h  # Массив фигур
├── src/               # Реализация
│   ├── Figure.cpp
│   ├── Trapezoid.cpp
│   ├── Rhombus.cpp
│   ├── Pentagon.cpp
│   └── FigureArray.cpp
├── tests/             # Unit-тесты
│   └── test_figures.cpp
├── main.cpp           # Основная программа
├── CMakeLists.txt     # Конфигурация сборки
└── README.md          # Документация
```

## Требования
- C++17 или выше
- CMake 3.10+
- Google Test (для тестов)

## Сборка и запуск

### Основная программа
```bash
cd 3lab
mkdir build && cd build
cmake ..
make
./lab3
```

### Запуск тестов
```bash
cd 3lab/build
make tests
./tests
```

## Функциональность

### Базовый класс Figure
- Виртуальные методы для вычисления центра, площади, вывода вершин
- Операторы ввода/вывода (`<<`, `>>`)
- Оператор приведения к `double` (площадь)
- Операторы копирования, перемещения и сравнения

### Производные классы
1. **Trapezoid** - трапеция с параметрами:
   - Верхнее основание
   - Нижнее основание  
   - Высота
   - Координаты центра

2. **Rhombus** - ромб с параметрами:
   - Длина стороны
   - Угол (в радианах)
   - Координаты центра

3. **Pentagon** - правильный пятиугольник с параметрами:
   - Длина стороны
   - Координаты центра

### FigureArray
- Динамический массив указателей на `Figure*`
- Добавление/удаление фигур
- Вычисление общей площади
- Вывод информации о всех фигурах

## Примеры использования

### Создание фигур
```cpp
// Трапеция: верхнее основание=2, нижнее=4, высота=3, центр=(0,0)
Trapezoid t(2.0, 4.0, 3.0, 0.0, 0.0);

// Ромб: сторона=2, угол=90°, центр=(1,1)  
Rhombus r(2.0, 1.57, 1.0, 1.0);

// 5-угольник: сторона=2, центр=(0,0)
Pentagon p(2.0, 0.0, 0.0);
```

### Работа с массивом
```cpp
FigureArray array;
array.addFigure(std::make_unique<Trapezoid>(2.0, 4.0, 3.0, 0.0, 0.0));
array.addFigure(std::make_unique<Rhombus>(2.0, 1.57, 0.0, 0.0));

// Вывод общей площади
std::cout << "Total area: " << array.getTotalArea() << std::endl;
```

## Тестирование
Проект включает 34 Unit-теста, покрывающих:
- Конструкторы и деструкторы
- Операторы копирования и перемещения
- Вычисление площадей и центров
- Полиморфизм и виртуальные функции
- Работу с массивом фигур
- Граничные случаи
- Операторы ввода/вывода

## Результаты тестов
```
[==========] Running 34 tests from 7 test suites.
[  PASSED  ] 34 tests.
```

## Особенности реализации

### Полиморфизм
- Виртуальные функции для вычисления площади и центра
- Полиморфное копирование через метод `clone()`
- Виртуальный деструктор для корректного удаления объектов

### Наследование
- Базовый класс `Figure` с общим интерфейсом
- Производные классы переопределяют виртуальные методы
- Правильная инициализация базового класса в конструкторах

### Управление памятью
- Использование `std::unique_ptr` для автоматического управления памятью
- Правильная реализация правила трех/пяти
- Безопасное копирование и перемещение объектов

## Автор
Студент группы [номер группы]
Вариант 28: Трапеция, Ромб, 5-угольник
